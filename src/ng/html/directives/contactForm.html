<div class="contact-form-container">
  <div class="contact-form-content"
    layout="column">

    <form name="contact"
      ng-submit="$form.submit($event)">

      <div>
        <div layout="row">
    
          <md-input-container flex="20">

            <label>Prefix</label>

            <md-select name="namePrefix"
              ng-model="$form.data.namePrefix"
              ng-disabled="true === $form.isLocked"
              tab-index="1"
              required>
              <md-option value="mr">Mr.</md-option>
              <md-option value="mrs">Mrs.</md-option>
              <md-option value="ms">Ms.</md-option>
              <md-option value="miss">Miss</md-option>
            </md-select>

            <div ng-messages="contact.namePrefix.$error">
              <div ng-message="required">Your name prefix is required</div>
            </div>

          </md-input-container>

          <md-input-container flex="40">

            <label>Given name</label>

            <input name="givenName"
              ng-model="$form.data.givenName"
              ng-disabled="$form.isLocked"
              ng-focus="true"
              tab-index="2"
              required>

            <div ng-messages="contact.givenName.$error">
              <div ng-message="required">Your given name is required</div>
            </div>

          </md-input-container>

          <md-input-container flex="40">

            <label>Family name</label>

            <input name="familyName"
              ng-model="$form.data.familyName"
              ng-disabled="$form.isLocked"
              ng-focus="true"
              tab-index="3"
              required>

            <div ng-messages="contact.familyName.$error">
              <div ng-message="required">Your family name is required</div>
            </div>

          </md-input-container>

        </div>
      </div>

      <div>
        <div layout="row">
    
          <md-input-container flex="50">

            <label>Response preference</label>

            <md-select name="respondVia"
              ng-model="$form.data.respondVia"
              placeholder="How should we get in touch?"
              ng-disabled="$form.isLocked"
              tab-index="4"
              required>
              <md-option value="phone">By phone</md-option>
              <md-option value="email">By e-mail</md-option>
              <md-option value="none">I don't want a response</md-option>
            </md-select>

            <div ng-messages="contact.respondVia.$error">
              <div ng-message="required">Response type is required</div>
            </div>

          </md-input-container>
        
          <md-input-container ng-if="'phone' === $form.data.respondVia"
            flex="50">

            <label>Phone number</label>

            <input name="contactPhone"
              type="phone"
              ng-model="$form.data.contactPhone"
              ng-required="'phone' === $form.data.respondVia"
              tab-index="5"
              ng-disabled="$form.isLocked" />

            <div ng-messages="contact.contactPhone.$error">
              <div ng-message="required">Phone number is required</div>
            </div>

          </md-input-container>
        
          <md-input-container ng-if="'email' === $form.data.respondVia"
            flex="50">

            <label>Email address</label>

            <input name="contactEmail"
              type="email"
              minlength="10" 
              maxlength="100" 
              ng-pattern="/^.+@.+\..+$/"
              ng-model="$form.data.contactEmail"
              ng-required="'email' === $form.data.respondVia"
              tab-index="6"
              ng-disabled="$form.isLocked" />

            <div ng-messages="contact.contactEmail.$error">
              <div ng-message="required">Email address is required</div>
              <div ng-message="pattern">Invalid or incomplete address</div>
            </div>

          </md-input-container>

        </div>
      </div>
    
      <md-input-container class="md-block">

        <label>Message</label>

        <textarea name="message"
          ng-model="$form.data.message"
          ng-disabled="$form.isLocked"
          md-maxlength="500"
          rows="3"
          max-rows="4"
          tab-index="7"
          md-select-on-focus
          required>
        </textarea>

        <div ng-messages="contact.message.$error">
          <div ng-message="required">Message is required</div>
          <div ng-message="md-minlength">Message must be more than 5 characters</div>
          <div ng-message="md-maxlength">Message must be less than 30 characters</div>
        </div>

      </md-input-container>

      <div>
        <div layout="row"
          layout-align="end center">
          
          <div ng-if="$form.isDone"
            layout-align="start center"
            layout="row"
            layout>
            
            <md-icon class="material-icons"
              style="color:#8BC34A;margin-right:8px;">
              check
            </md-icon>
            
            <span>Message sent.</span>

          </div>

          <md-button type="submit"
            class="md-primary"
            tab-index="8"
            ng-hide="$form.isDone"
            ng-disabled="$form.isLocked">
            <span>Send message</span>
          </md-button>

        </div>
      </div>

    </form>

  </div>

</div>
